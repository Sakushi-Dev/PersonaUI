<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
<link rel="icon" href="/static/favicon.ico" type="image/x-icon">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
{{RESET_CSS}}
</style>
</head>
<body>
    <div id="glow-bloom"></div>
    <div id="console-wrapper"></div>
    <div id="center-content">
        <div id="title">PERSONA UI</div>
        <div id="subtitle">SYSTEM RESET</div>
        <div id="spinner"></div>

        <!-- Phase 1: Preset Selection -->
        <div id="preset-box">
            <div id="preset-label">What would you like to reset?</div>
            <div id="preset-list">
                <!-- Dynamically populated via JS -->
            </div>

            <!-- Persona Selection (only visible for "personas_select") -->
            <div id="persona-select-box" style="display:none;">
                <div id="persona-select-label">Select personas to delete:</div>
                <div id="persona-list">
                    <!-- Dynamically populated via JS -->
                </div>
            </div>

            <div id="preset-buttons">
                <button id="btn-preset-cancel" onclick="onCancel()">Cancel</button>
                <button id="btn-preset-next" onclick="onPresetNext()" disabled>Next</button>
            </div>
        </div>

        <!-- Phase 2: Confirmation -->
        <div id="confirm-box" style="display:none;">
            <div id="confirm-text">
                <span id="confirm-preset-name"></span><br>
                <span class="detail" id="confirm-detail"></span>
            </div>
            <div id="confirm-buttons">
                <button id="btn-back" onclick="onBack()">Back</button>
                <button id="btn-confirm" onclick="onConfirm()">Run Reset</button>
            </div>
        </div>

        <!-- Phase 3: Finished -->
        <div id="finish-buttons" style="display:none;">
            <button id="btn-start" onclick="onStart()">Launch PersonaUI</button>
            <button id="btn-close" onclick="onClose()">Close</button>
        </div>
    </div>
<script>
{{RESET_JS}}
</script>
</body>
</html>
